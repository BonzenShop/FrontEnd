<mat-sidenav-container class="sidenav-container" (backdropClick)="sidenav.close">
  <!--SIDENAV-->
  <mat-sidenav #sidenav (keydown.escape)="sidenav.close()">
    <div *ngIf="this.authenticationService.hasAdminRights()">
      <p style="text-align: center;"><button mat-button routerLink="/Admin">Admin Menü</button></p>
    <mat-divider></mat-divider>
    </div>
    
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
      <!-- This is the tree node template for leaf nodes -->
      <mat-tree-node *matTreeNodeDef="let node" routerLink="/Produkte" [queryParams]="{Kategorie: node.name}" (click)="sidenav.close()" matTreeNodePadding>
        <!-- use a disabled button to provide padding for tree leaf -->
        <button mat-icon-button disabled></button>
        {{node.name}}
      </mat-tree-node>
      <!-- This is the tree node template for expandable nodes -->
      <mat-tree-node *matTreeNodeDef="let node;when: hasChild" routerLink="/Produkte" [queryParams]="{Kategorie: node.name}" (click)="sidenav.close()" matTreeNodePadding>
        <button mat-icon-button matTreeNodeToggle
                [attr.aria-label]="'toggle ' + node.name">
          <mat-icon class="mat-icon-rtl-mirror sidenavIcon">
            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
          </mat-icon>
        </button>
        {{node.name}}
      </mat-tree-node>
    </mat-tree>
  </mat-sidenav>
  <!--SIDENAV-->
  <mat-sidenav-content>
    <div id="globalwrapper">  
      <!-- Toolbar -->
      <div class="toolbar" role="banner">
      <div id="upperToolbar">
        <img id="logoDesktop"
          alt="Bonzenshop Logo"
          src="../assets/Logo.svg"
          (click)="goToHome()"
        />
        <img
        id="logoMobile"
        src="../assets/Diamond_Logo.svg" 
        alt="mobile logo"
        (click)="goToHome()"/>
        <!-- BtnPanelRight--------------------->
        <div id="btnPanelRight">
          <!--cart-->
          <a id="cart-center" routerLink="/Warenkorb" >
            <i class="material-icons navbar">
              shopping_cart
            </i>
          </a>
          <!--user-->
          <div class="dropdown" id="dropdownUser">
            <i class="material-icons navbar">
              account_circle
            </i>
            <div *ngIf="this.authenticationService.isLoggedIn()" class="dropdown-content">
              <a routerLink="/Konto">Kontoinformationen</a>
              <a routerLink="/Bestellungen">Bestellungen</a>
              <a (click)="logout()" style="cursor:pointer">Logout</a>
            </div>
            <div *ngIf="!this.authenticationService.isLoggedIn()" class="dropdown-content">
            <a routerLink="/Registrierung">Registrieren</a>
                <a *ngIf="!this.router.url.startsWith('/Login')" routerLink="/Login" [queryParams]="{ReturnURL: this.router.url}">Login</a>
            </div>
          </div> 
        </div>
        <!--BtnPanelLeft------------------------>
        <div id="btnPanelLeft">
          <a id="mobileMenu" (click)="sidenav.open()" >
            <i class="material-icons navbar">
              view_headline
            </i>
          </a>
          <a *ngIf="this.authenticationService.hasEmployeeRights()" id="adminBtn" routerLink="/Admin" >
            <i class="material-icons navbar">
              supervised_user_circle
            </i>
          </a>
          
        </div>
        <!--LeftEnd-->
      </div>
      
      <div id="lowerToolbar">
        <ul id="navbar">
          <li> 
            <div class="dropdown">
          <button routerLink="/Produkte" [queryParams]="{Kategorie: 'Transport'}" class="dropbtn">Transport</button>
              <div class="dropdown-content">
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Tiere'}">Tiere</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Flugzeuge'}">Flugzeuge</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Autos'}">Autos</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Yachten'}">Yachten</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Sonstige Transportmittel'}">Sonstige Transportmittel</a>
              </div>
            </div> 
          </li>
          <li> 
            <div class="dropdown">
          <button routerLink="/Produkte" [queryParams]="{Kategorie: 'Immobilien'}" class="dropbtn">Immobilien</button>
              <div class="dropdown-content">
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Residenzen'}">Residenzen</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Monumente'}">Monumente</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Straßen'}">Straßen</a>
              </div>
            </div>
          </li>
          <li>
            <div class="dropdown">
          <button routerLink="/Produkte" [queryParams]="{Kategorie: 'Accessoires'}" class="dropbtn">Accessoires</button>
              <div class="dropdown-content">
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Uhren'}">Uhren</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Ketten'}">Ketten</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Ringe'}">Ringe</a>
              </div>
            </div>
          </li>
          <li> 
            <div class="dropdown">
          <button routerLink="/Produkte" [queryParams]="{Kategorie: 'Sonstiges'}" class="dropbtn">Sonstiges</button>
              <div class="dropdown-content">
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Edelsteine'}">Edelsteine</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Gold'}">Gold</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Haustiere'}">Haustiere</a>
                <a routerLink="/Produkte" [queryParams]="{Kategorie: 'Untertanen'}">Untertanen</a>
              </div> 
            </div>
          </li>
        </ul>
      </div>
    </div>
      <div id=mock-toolbar></div>
      <div id=content-section>
        <!--<div id="topBackgroundImage"></div>-->
        <router-outlet></router-outlet>
      </div>
    <div id="loadingSpinner" *ngIf="apiService.loading">
    <img src="../assets/loading-gif.gif" />
      </div>  
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
